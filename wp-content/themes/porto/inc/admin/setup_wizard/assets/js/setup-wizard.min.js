var PortoWizard=function(t){function e(){if(t(".button-next").on("click",function(e){return!!function(t){function e(){if(!r){for(var t="",i=0;i<u.length;i++)u[i]=u[i]+1,u[i]>=a.length&&(u[i]=0),t+=a.charAt(u[i]);n[s](t),setTimeout(function(){e()},60)}}var n=jQuery(t);if("yes"==n.data("done-loading"))return!1;var i=n.text(),o=n.outerWidth(),a="⡀⡀⡀⡀⡀⡀⡀⡀⡀⡀⠄⠂⠁⠁⠂⠄",r=!1;n.css("width",o),n.addClass("wizard_step_loading_button_current");var s=n.is("input")||n.is("button")?"val":"text";n[s](a),n.data("done-loading","yes");var u=[0,1,2];return e(),{done:function(){r=!0,n[s](i),n.removeClass("wizard_step_loading_button_current"),n.attr("disabled",!1)}}}(this)&&(t(this).data("callback")&&void 0!==i[t(this).data("callback")]?(i[t(this).data("callback")](this),!1):(n(),!0))}),t(".shortcode_list").length)return i.load_unused_shortcodes(),!1;t(".button-upload").on("click",function(t){t.preventDefault(),function(){"use strict";var t,e;if(void 0!==t)return void t.open();(t=wp.media.frames.file_frame=wp.media({title:"Upload Logo",button:{text:"Select Logo"},multiple:!1})).on("select",function(){e=t.state().get("selection").first().toJSON(),jQuery(".site-logo").attr("src",e.url),jQuery("#new_logo_id").val(e.id)}),t.open()}()}),t(".theme-presets a").on("click",function(e){e.preventDefault();t(this).parents("ul").first().find(".current").removeClass("current");t(this).parents("li").first().addClass("current");var n=t(this).data("style");return t("#new_style").val(n),!1})}function n(){t(".envato-setup-content").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}var i={install_plugins:function(e){(new function(){function e(t){"object"==typeof t&&void 0!==t.message?(r.find("span").text(t.message),void 0!==t.url?t.hash==l?(r.find("span").text("failed"),o()):(l=t.hash,jQuery.post(t.url,t,function(e){i(),r.find("span").text(t.message)}).fail(e)):(t.done,o())):(r.find("span").text("ajax error"),o())}function i(){u&&jQuery.post(ajaxurl,{action:"porto_setup_wizard_plugins",wpnonce:porto_setup_wizard_params.wpnonce,slug:u},e).fail(e)}function o(){var e=!1;r&&(r.data("done_item")||(s++,r.data("done_item",1)),r.find(".spinner").css("visibility","hidden")),t(".porto-setup-wizard-plugins li").each(function(){t(this).hasClass("installing")&&(""==u||e?(u=t(this).data("slug"),r=t(this),i(),e=!1):t(this).data("slug")==u&&(e=!0))}),s>=t(".porto-setup-wizard-plugins li.installing").length&&a()}var a,r,s=0,u="",l="";return{init:function(e){t(".porto-setup-wizard-plugins > li").each(function(){t(this).find('input[type="checkbox"]').is(":checked")&&t(this).addClass("installing")}),a=function(){n(),window.location.href=e.href},o()}}}).init(e)},load_unused_shortcodes:function(){(new function(){function t(t,e){if(void 0!=typeof e)for(var n=0;n<e.length;n++)if(t==e[n])return!0;return!1}function e(e){if(e){var n="";for(var i in e){var o=e[i];n+="<li>",n+='<label class="checkbox checkbox-inline">',n+='<input type="checkbox" name="shortcodes[]" value="'+o+'"'+(!porto_speed_optimize_wizard_params.shortcodes_to_remove||t(o,porto_speed_optimize_wizard_params.shortcodes_to_remove)?' checked="checked"':"")+">",n+=o,n+="</label>",n+="</li>"}jQuery(".shortcode_list").html(n),jQuery(".porto-setup .porto-setup-actions .button:disabled").removeAttr("disabled")}}return{init:function(){jQuery(".shortcode_list").block({message:null,overlayCSS:{background:"#f1f1f1",opacity:.6}}),jQuery.ajax({type:"post",url:ajaxurl,data:{action:"porto_speed_optimize_wizard_shortcodes",wpnonce:porto_speed_optimize_wizard_params.wpnonce},dataType:"json",success:e})}}}).init()}};return{init:function(){t(e)}}}(jQuery);PortoWizard.init();