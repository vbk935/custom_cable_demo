/** Abstract base class for collection plugins v1.0.1.
	Written by Keith Wood (kbwood{at}iinet.com.au) December 2013.
	Licensed under the MIT (http://keith-wood.name/licence.html) license. */

!function(){var t=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function n(e){function s(){!t&&this._init&&this._init.apply(this,arguments)}var i=this.prototype;t=!0;var a=new this;t=!1;for(var r in e)a[r]="function"==typeof e[r]&&"function"==typeof i[r]?function(t,n){return function(){var e=this._super;this._super=function(n){return i[t].apply(this,n||[])};var s=n.apply(this,arguments);return this._super=e,s}}(r,e[r]):e[r];return s.prototype=a,s.prototype.constructor=s,s.extend=n,s}}(),function($){function camelCase(t){return t.replace(/-([a-z])/g,function(t,n){return n.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var t=camelCase(this.name);$[t]=this,$.fn[t]=function(n){var e=Array.prototype.slice.call(arguments,1);return $[t]._isNotChained(n,e)?$[t][n].apply($[t],[this[0]].concat(e)):this.each(function(){if("string"==typeof n){if("_"===n[0]||!$[t][n])throw"Unknown method: "+n;$[t][n].apply($[t],[this].concat(e))}else $[t]._attach(this,n)})}},setDefaults:function(t){$.extend(this.defaultOptions,t||{})},_isNotChained:function(t,n){return"option"===t&&(0===n.length||1===n.length&&"string"==typeof n[0])||$.inArray(t,this._getters)>-1},_attach:function(t,n){if(t=$(t),!t.hasClass(this._getMarker())){t.addClass(this._getMarker()),n=$.extend({},this.defaultOptions,this._getMetadata(t),n||{});var e=$.extend({name:this.name,elem:t,options:n},this._instSettings(t,n));t.data(this.name,e),this._postAttach(t,e),this.option(t,n)}},_instSettings:function(t,n){return{}},_postAttach:function(t,n){},_getMetadata:function(d){try{var f=d.data(this.name.toLowerCase())||"";f=f.replace(/'/g,'"'),f=f.replace(/([a-zA-Z0-9]+):/g,function(t,n,e){var s=f.substring(0,e).match(/"/g);return s&&s.length%2!==0?n+":":'"'+n+'":'}),f=$.parseJSON("{"+f+"}");for(var g in f){var h=f[g];"string"==typeof h&&h.match(/^new Date\((.*)\)$/)&&(f[g]=eval(h))}return f}catch(t){return{}}},_getInst:function(t){return $(t).data(this.name)||{}},option:function(t,n,e){t=$(t);var s=t.data(this.name);if(!n||"string"==typeof n&&null==e){var i=(s||{}).options;return i&&n?i[n]:i}if(t.hasClass(this._getMarker())){var i=n||{};"string"==typeof n&&(i={},i[n]=e),this._optionsChanged(t,s,i),$.extend(s.options,i)}},_optionsChanged:function(t,n,e){},destroy:function(t){t=$(t),t.hasClass(this._getMarker())&&(this._preDestroy(t,this._getInst(t)),t.removeData(this.name).removeClass(this._getMarker()))},_preDestroy:function(t,n){}}),$.JQPlugin={createPlugin:function(t,n){"object"==typeof t&&(n=t,t="JQPlugin"),t=camelCase(t);var e=camelCase(n.name);JQClass.classes[e]=JQClass.classes[t].extend(n),new JQClass.classes[e]}}}(jQuery);