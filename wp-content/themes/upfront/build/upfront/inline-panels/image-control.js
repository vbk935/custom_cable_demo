!function(t){upfrontrjs.define(["scripts/upfront/inline-panels/control","text!scripts/upfront/inline-panels/templates/panel-control-template.html"],function(e,n){var i=(Upfront.mainData.l10n.image_element,e.extend({multiControl:!0,hideOnClick:!1,hideOkButton:!0,width:26,height:18,events:{click:"onClickControl","click button":"onClickOk"},initialize:function(t){var e=this;this.options=t||{},this.listenTo(Upfront.Events,"image-control:open",function(t){e!==t&&e.close()})},render:function(){e.prototype.render.call(this,arguments);return this.$el.hasClass("image-edit-control-panel-item")||this.$el.addClass("image-edit-control-panel-item"),this.view&&(this.view.render(),this.view.delegateEvents()),this.panel||(this.$el.append('<div class="uimage-control-panel image-control-button"></div>'),this.$el.find(".image-control-button").append(this.view.$el)),this},remove:function(){t(document).off("click.dialog-control."+this.cid)},onDocumentClick:function(e){var n=t(e.target),i=e.data;n.closest("#page").length&&n[0]!==i.el&&!n.closest(i.el).length&&i.isopen&&i.close()},onClickControl:function(t){this.$el.siblings(".upfront-control-dialog-open").removeClass("upfront-control-dialog-open"),t.preventDefault(),this.clicked(t),this.isopen?this.close():this.open()},open:function(){return this.isopen=!0,this.$el.addClass("upfront-control-dialog-open"),this.trigger("panel:open"),Upfront.Events.trigger("dialog-control:open",this),this},close:function(){return this.isopen=!1,this.$el.removeClass("upfront-control-dialog-open"),this.trigger("panel:close"),this}}));return i})}(jQuery);