!function(t){var n=Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;upfrontrjs.define(["scripts/upfront/upfront-views-editor/commands/command","scripts/upfront/upfront-views-editor/breakpoint/model","scripts/upfront/upfront-views-editor/breakpoint/storage"],function(e,o,i){return Backbone.View.extend({tagName:"li",className:"upfornt-icon upfront-icon-add",id:"new-custom-breakpoint",events:{click:"add_breakpoint"},render:function(){this.$el.html(n.new_breakpoint)},initialize:function(t){this.collection=i.get_breakpoints()},add_breakpoint:function(e){e.preventDefault();var i,p=new Breakpoint_Model({id:this.collection.get_unique_id()});this.collection.add(p),p.set({enabled:!0}),p.set({active:!0}),i=Upfront.Popup.open(function(e,i,r){i.empty();var a=t(this),s=new o({model:p});a.append(s.render().el),r.append('<div class="breakpoint-edit-ok-button">'+n.ok+"</div>"),t("#upfront-popup-close").hide(),t(".breakpoint-edit-ok-button").on("click",function(){Upfront.Popup.close(),t("#upfront-popup-close").show()})},{width:400})}})})}(jQuery);