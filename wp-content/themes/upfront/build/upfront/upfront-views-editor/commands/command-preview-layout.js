!function(i){var e=Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;upfrontrjs.define(["scripts/upfront/upfront-views-editor/commands/command"],function(i){return i.extend({className:"command-preview",can_preview:!1,render:function(){this.$el.addClass("command-save command-preview upfront-icon upfront-icon-save"),this.preview_built(),Upfront.Events.on("preview:build:start",this.building_preview,this),Upfront.Events.on("preview:build:stop",this.preview_built,this)},on_click:function(){this.can_preview&&Upfront.Events.trigger("command:layout:preview")},building_preview:function(){this.$el.html(e.building),this.can_preview=!1},preview_built:function(){this.$el.html(e.preview),this.$el.prop("title",e.preview),this.can_preview=!0}})})}(jQuery);