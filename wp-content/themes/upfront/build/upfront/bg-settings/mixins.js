!function(o){upfrontrjs.define([],function(){return{bind_toggles:function(){this.on("show",function(){this.$el.show()}),this.on("hide",function(){this.$el.hide()})},save_fields:function(){},preview_color:function(o){if(_.isObject(o)){var e=o.toRgb(),t="rgba("+e.r+","+e.g+","+e.b+","+o.alpha+")";t=o.get_is_theme_color()!==!1?o.theme_color:t,"undefined"!=typeof this.is_featured_fallback_bg_color&&this.is_featured_fallback_bg_color?this.model.set_breakpoint_property("featured_fallback_background_color",t):this.model.set_breakpoint_property("background_color",t)}},update_color:function(o){this.preview_color(o),"undefined"!=typeof this.is_featured_fallback_bg_color&&this.is_featured_fallback_bg_color?this._default_color=this.model.get_breakpoint_property_value("featured_fallback_background_color",!0):this._default_color=this.model.get_breakpoint_property_value("background_color",!0)},reset_color:function(){"undefined"!=typeof this.is_featured_fallback_bg_color&&this.is_featured_fallback_bg_color?this.model.set_breakpoint_property("featured_fallback_background_color",this._default_color):this.model.set_breakpoint_property("background_color",this._default_color)},upload_image:function(){var e=this;Upfront.Views.Editor.ImageSelector.open({hide_sizes:!0,insert_options:!1,multiple:!1}).done(function(t){var r,i={};_.each(t,function(o,e){i=o,r=e}),o("<img>").attr("src",i.full[0]).load(function(){Upfront.Views.Editor.ImageSelector.close(),e.model.set_breakpoint_property("background_image",i.full[0]),e.model.set_breakpoint_property("background_image_ratio",Math.round(i.full[2]/i.full[1]*100)/100),e.update_settings_header()})})}}})}(jQuery);